Our task in this case study is to write a generic program that generates a random access file for any type of record. The workings of the program are illustrated for a file containing personal records, each record consisting of five data members (social security number, name, city, year of birth, and salary), and for a student file that stores student records. The latter records have the same data members as personal records, plus information about academic major. This allows us to illustrate inheritance.
 
In this case study, a generic random access file program inserts a new record into a file, finds a record in the file, and modifies a record. The name of the file has to be supplied by the user, and if the file is not found, it is created; otherwise, it is open for reading and writing.

The function find() determines whether a record is in the file. It performs the search sequentially comparing each retrieved record tmp to the sought record d using an overloaded equality operator ==. The function uses to some extent the fact that the file is random by scrutinizing it record by record, not byte by byte. To be sure, the records are built out of bytes and all the bytes belonging to a particular record have to be read, but only the bytes required by the equality operator are participating in the comparison.

The function modify() updates information stored in a particular record. The record is first retrieved from the file, also using sequential search, and the new information is read from the user using the overloaded input operator >>. To store the updated record tmp in the file, modify() forces the file pointer database to go back to the beginning of the record tmp that has just been read; otherwise, the record following tmp in the file would be overwritten. The starting position of tmp can be determined immediately because each record occupies the same number of bytes; therefore, it is enough to jump back the number of bytes occupied by one record.  This is accomplished by calling database.seekp(-d.size(),ios::cur), where size() must be defined in the class T, which is the class type for  object d. 

The generic Database class includes two more functions. Function add() places a record at the end of file. Function print() prints the contents of the file.
